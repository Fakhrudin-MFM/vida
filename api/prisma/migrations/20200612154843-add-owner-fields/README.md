# Migration `20200612154843-add-owner-fields`

This migration has been generated by Phuoc Do at 6/12/2020, 3:48:43 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_Dashboard" (
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"id" TEXT NOT NULL  ,"json" TEXT NOT NULL  ,"name" TEXT NOT NULL  ,"ownerEmail" TEXT NOT NULL DEFAULT '' ,"ownerId" TEXT NOT NULL DEFAULT '' ,"updatedAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,
    PRIMARY KEY ("id"))

INSERT INTO "quaint"."new_Dashboard" ("createdAt", "id", "json", "name", "updatedAt") SELECT "createdAt", "id", "json", "name", "updatedAt" FROM "quaint"."Dashboard"

PRAGMA foreign_keys=off;
DROP TABLE "quaint"."Dashboard";;
PRAGMA foreign_keys=on

ALTER TABLE "quaint"."new_Dashboard" RENAME TO "Dashboard";

PRAGMA foreign_keys=off;
DROP TABLE "quaint"."new_Dashboard";;
PRAGMA foreign_keys=on

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200605142752-create-dashboards..20200612154843-add-owner-fields
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "sqlite"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider      = "prisma-client-js"
@@ -13,5 +13,7 @@
   name        String
   json        String
   createdAt   DateTime @default(now())
   updatedAt   DateTime @default(now())
+  ownerId     String  @default("")
+  ownerEmail  String  @default("")
 }
```


